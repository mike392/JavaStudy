package com.study.tune.action;

import java.util.List;

import org.apache.logging.log4j.Level;

import com.study.tune.creator.TuneCreator;
import com.study.tune.entity.Tune;
import com.study.tune.entity.TuneGenreEnum;
import com.study.tune.main.TuneRecordingProcessor;
import com.study.tune.util.Constants;
import com.study.tune.util.WrongTuneTypeException;

public class TuneListPopulator {
	public static void populateTuneListGivenInput(List<String> input){
		for (String item : input){
			String[] tuneParam = item.split(Constants.COLUMN_DELIMITER);
			try {
			Tune tune = TuneCreator.createTune(tuneParam[0]);
			tune.setDuration(Double.parseDouble(tuneParam[1].toUpperCase()));
			tune.setGenre(TuneGenreEnum.valueOf(tuneParam[2].toUpperCase()));
			TuneTypePopulator.populateTuneType(tune, tuneParam[3].toUpperCase());
			TuneList.addTune(tune);
			} catch (WrongTuneTypeException e) {
				TuneRecordingProcessor.logger.log(Level.ERROR, "Cannot cast Tune class type to - " + tuneParam[0]);
			}
		}
	}
}
